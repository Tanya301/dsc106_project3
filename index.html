<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mouse Temperature Visualization</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="global.js"></script>
    <script type="module" src="main_chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Mouse Temperature Visualization</h1>
        <p class="description">Average temperature data for male and female mice across 24-hour cycle</p>

        <div class="controls">
            <button id="play-btn" class="btn">Play</button>
            <button id="reset-btn" class="btn">Reset</button>
            <select id="day-select" class="btn">
                <option value="average">Average All Days</option>
                <option value="1">Day 1</option>
                <option value="2">Day 2</option>
                <option value="3">Day 3</option>
                <option value="4">Day 4</option>
                <option value="5">Day 5</option>
                <option value="6">Day 6</option>
                <option value="7">Day 7</option>
                <option value="8">Day 8</option>
                <option value="9">Day 9</option>
                <option value="10">Day 10</option>
                <option value="11">Day 11</option>
                <option value="12">Day 12</option>
                <option value="13">Day 13</option>
                <option value="14">Day 14</option>
            </select>
        </div>

        <div class="slider-container">
            <span>üê≠</span>
            <input type="range" id="time-slider" min="0" max="1439" value="0">
            <div class="slider-mouse">  <img src="https://pngimg.com/d/rat_mouse_PNG23538.png" alt="Slider Mouse">  </div>
            <span>üê≠</span>
        </div>

        <div class="info-container">
            <div class="time-label" id="time-label">Time: 00:00</div>
            <div class="cycle-label" id="cycle-label">
                Light Status: <span id="light-status" class="light-indicator light-off">Light Off</span>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #FF6B6B;"></div>
                <span>Female Mice</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #4D96FF;"></div>
                <span>Male Mice</span>
            </div>
        </div>

        <div id="chart"></div>
        <div class="tooltip" id="tooltip"></div>
    </div>
    <h2 id="writeup_title">Design Rationale</h1>
    <p id="writeup p1">
        Our visualization is designed to help explore the question: ‚ÄúHow does mice temperature change over 24 hours?‚Äù The main part of the visualization is a line plot showing average temperature across 24 hours for both male and female mice. To emphasize time progression, we used a left-to-right moving slider, mirroring the sun‚Äôs movement and our natural perception of time. In the laboratory environment the mice were observed in, lights were turned on from 7 AM to 7 PM. To reflect this on our plot, we indicated this with an icon and a yellow highlight on the page. We wanted the readers to understand that while mice follow their own temperature cycles over the course of time, they were also subject to research constraints.
    </p>
    <p id="writeup p2">
        The slider moves automatically but allows users to move it forwards and backwards for deeper exploration. Users can also view temperature variations by sex and select specific days instead of the default average. We also included a tooltip so that when users hover over a particular point on the plot, they can see the time of day and both male and female mouse temperatures.  We hope that this interactivity helps our audience to better understand the nuances in mice temperature changes.
    </p>
    <p id="writeup p3">
        We initially started by coming up with a core idea for our visualization. We had two main ideas: a clock that users could interact with and a slider corresponding to time, ultimately choosing the latter. For the checkpoint we performed an exploration of the different plots that could be used in conjunction with either core idea to best convey our desired result. Figuring out how to plot these in D3 took roughly 3 hours, with each person working on 1 plot simultaneously. From there we explored the idea of using a clock visual where users could manipulate the hands to show mouse activity vs. time, but deemed this too complex for the scope of this project. We also explored integrating both temperature and activity with our slider, but found it too cluttered for the viewer. Thus, we narrowed our visualization idea down to using a line plot for temperature changes in conjunction with the slider. We prototyped the idea of showing the day/night cycle on the web page by having 1) a sun moving across the sky, 2) a transition from light to dark mode when the time changed, and 3) icons of the moon and sun on the left and right sides of the page respectively, but we found all three of these too visually distracting for the viewer and so scrapped the idea. This sketch and prototype phase took roughly 1 hour, with Tanya and Camille sketching out different versions of the plot, and Emma coding the prototype. From there Tanya and Emma modified the code so the visualization utilized our mice data, while Kendall and Camille explored enhancements to better convey information to the reader. The main coding task, especially the D3 JavaScript code, took around 4 hours, and the enhancements took about 3. Afterwards, it took about 1 hour to finalize our written rationale.
    </p>
</body>
</html>